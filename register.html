<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paws & Tails | Register User</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- <link rel="script" href="register.js"> -->


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@5.2.3/dist/sketchy/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js"
        integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT"
        crossorigin="anonymous"></script>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@5.2.3/dist/sketchy/bootstrap.css">
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

    <style>
        .selector-for-some-widget {
            box-sizing: content-box;
        }

        .navbar {
            width: 100%;
        }

        .banner {
            flex-direction: row;
            align-items: center;
            padding: 1%;
            width: 99%;
            margin: auto;
            margin-top: 0.5%;
            max-height: 300px;
        }

        .consultation {
            flex-direction: row;
            align-items: center;
            padding: 1%;
            width: 99%;
            margin: auto;
            margin-top: 0.5%;
        }

        .banner-body {
            max-height: 250px;
        }

        .banner-text {
            max-height: 250px;
        }


        .banner-img {
            width: 45%;
            border-top-right-radius: 0;
            border-bottom-left-radius: calc(0.25rem - 1px);
            max-height: 250px;
        }

        .banner-title {
            font-weight: bold;
        }


        .container .card {
            cursor: pointer;
        }

        footer a {
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline
        }

        .consultbutton:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0, 0, 0, .12), 0 4px 8px rgba(0, 0, 0, .06);
        }

        .nav-item a:hover,
        .consultation a:hover,
        nav a:hover {
            background-color: grey;
            text-decoration: underline;
            border-radius: .5rem;
        }

        body {
            padding-top: 60px;
        }

        footer {
            margin-top: 5px;
        }
    </style>
    <script>
        //import * as fs from "fs";
        //import {writeFile} from './fs.js';


//import * as fs from "fs";

        // register.addEventListener("click",function(event){
        //     alert("1")
        //     alert(firstName.value)
        //     var object = {
        //         "firstName":FirstName.value,
        //         "lastName":LastName.value,
        //         "phoneNumber":PhoneNumber.value,
        //         "email":Email.value,
        //         "passsword":Password.value,

        //     }

        //     const user = JSON.stringify(object)

        //     alert(user.toString)
        // })

        function writeToJSON(user) {
            
            //const fs = require("fs");
         //import * as fs from "fs.js";
         //import {writeFile} from './fs.js';

         alert("Registration Successfull!!!")

         //   fs.writeFile("Project/Project/data.json",user,)
            // writeFile("Project/Project/data.json", user, (error) => {
            //     // throwing the error
            //     // in case of a writing problem
            //     // if (error) {
            //     //     // logging the error
            //     //     console.error(error);
                

            //     //     //throw error;
            //     // }

            //     console.log("data.json written correctly");
            //     alert("Registration Successfull!!!")
            // });
        }

        function formSubmit() {
           // alert("1")
            var FirstName = document.getElementById("FirstName").value
            var LastName = document.getElementById("LastName").value
            var PhoneNumber = document.getElementById("PhoneNumber").value
            var Email = document.getElementById("Email").value
            var Password = document.getElementById("Password").value
          //  alert("2")
            //alert(FirstName)
            var object = {
                "firstName": FirstName,
                "lastName": LastName,
                "phoneNumber": PhoneNumber,
                "email": Email,
                "passsword": Password,
            }

            const user = JSON.stringify(object)
            writeToJSON(user)
            //alert("Registration Successfull!!!")

            // console.log(user)
            // result.innerHTML = user
            // //alert(user.Email)
        }
        var DB = {};

function processLogout(){
    //toggle modal destination to account
    //var destination = document.getElementById("accountMenu")
    alert("You have now been logged Out!!! It is advised to close all windows.")
    $('#accountLoggedIn').modal('toggle');
    $('#accountMenu').attr('data-bs-target','#account');
    $('#cart').attr('data-bs-target','#account');
    $('#cart').attr('data-bs-toggle','modal');
    $('#cart').attr('href','#');
}


function processLogin() {
    // Empty the list first
    userData = DB[$('#username').val()];
    //alert(userData["name"])
    
    if (!userData) {
        alert("Incorrect user name!");
        return;
    }
    if (userData["password"] !== $('#password').val()) {
        alert("Incorrect password!");
        return;
    }
    // If found, set up all available portfolios per user
    alert("Login Success!");
    $('#account').modal('toggle');
    $('#accountMenu').attr('data-bs-target','#accountLoggedIn');
    $('#cart').attr('data-bs-target','');
    $('#cart').attr('data-bs-toggle','');
    $('#cart').attr('href','cart.html');
    $('#nameOfUser').text(userData["firstName"]);
    $('#loginForm')[0].reset();
}

function processCart(){
   let ref= $("#cart").attr('href')
   if(ref=="#"){
    alert("You need to login first!!");

   }
}

$(document).ready(function () {
    $("#submitLogin").click(function () {

        processLogin();
    });
    $("#submitLogout").click(function(){
        processLogout();
    });
    $("#cart").click(function(){
        processCart();
    });
    $.getJSON("data.json", function (data) {
        DB = data;
    });
});




        (function () {
            'use strict';
            window.addEventListener('load', function () {
                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                var forms = document.getElementsByClassName('needs-validation');
                // Loop over them and prevent submission
                var validation = Array.prototype.filter.call(forms, function (form) {
                    form.addEventListener('submit', function (event) {
                        if (form.checkValidity() === false) {
                            event.preventDefault();
                            event.stopPropagation();
                        }
                        else {
                            formSubmit();
                        }
                        form.classList.add('was-validated');
                        //formSubmit();
                    }, false);
                });
            }, false);
        })();

    </script>

</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="home.html">PAWS <span><i class="fa fa-paw"></i></span> TAILS</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor02"
                aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarColor02">
                <ul class="navbar-nav me-auto m-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="deals.html">Deals
                            <span class="visually-hidden">(current)</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="care.html">Care</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button"
                            aria-haspopup="true" aria-expanded="false">Dogs</a>
                        <div class="dropdown-menu">
                            <a class="dropdown-item" href="dogFood.html">Food</a>
                            <a class="dropdown-item" href="#">Treats & Chews</a>
                            <a class="dropdown-item" href="#">Health & Wellness</a>
                            <a class="dropdown-item" href="walk.html">Collars & Leashes</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button"
                            aria-haspopup="true" aria-expanded="false">Cats</a>
                        <div class="dropdown-menu">
                            <a class="dropdown-item" href="catFood.html">Food & Treats</a>
                            <a class="dropdown-item" href="litter.html">Kitty Litter</a>
                            <a class="dropdown-item" href="#">Health & Wellness</a>
                            <a class="dropdown-item" href="toys.html">Accessories</a>
                        </div>
                    </li>
                </ul>
                <div>
                    <a href="contact.html" style="margin-right: 5px;text-decoration: none; color: white;"><i class="fa fa-phone" style="margin-right: 2px;"></i>Contact</a>                    
                    <a href="#" id="accountMenu" data-bs-toggle="modal" data-bs-target="#account" style="margin-right: 7px;text-decoration: none; color: white;"><i class="fa fa-address-card" style="margin-right: 2px;"></i>Account</a>
                    <a href="#" id="cart" data-bs-toggle="modal" data-bs-target="#account" style="text-decoration: none; color: white;"><i class="fa fa-shopping-cart" style="margin-right: 2px;"></i>Cart</a>

                </div>
            </div>
        </div>
    </nav>
    <p id="result"></p>

    <div style="text-align:center;" class="w-75 m-auto">

        <h3 class="text-muted">User Registration</h3>
        <form id="myForm" class="needs-validation" novalidate>
            <fieldset>
                <div class="form-group w-25 m-auto">
                    <label class="col-form-label mt-4" for="FirstName">First Name</label>
                    <input type="text" class="form-control" placeholder="Enter your first name" id="FirstName" required>
                    <div class="invalid-feedback">Enter your first name!!</div>

                    <label class="col-form-label mt-4" for="LastName">Last Name</label>
                    <input type="text" class="form-control" placeholder="Enter your last name" id="LastName" required>
                    <div class="invalid-feedback">Enter your last name!!</div>
                </div>
                <div class="form-group w-25 m-auto">
                    <label class="col-form-label mt-4" for="PhoneNumber">Phone Number</label>
                    <input type="phone" class="form-control" placeholder="Enter your conact number" id="PhoneNumber"
                        required>
                    <div class="invalid-feedback">Enter a valid mobile number!!</div>
                    <label for="Email" class="form-label mt-4">Email address</label>
                    <input type="email" class="form-control" id="Email" aria-describedby="emailHelp"
                        placeholder="Enter email" required>
                    <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone
                        else.</small>
                    <div class="invalid-feedback">Enter a valid email id!!</div>
                </div>
                <div class="form-group w-25 m-auto">
                    <label for="Password" class="form-label mt-4">Password</label>
                    <input type="password" class="form-control" id="Password" placeholder="Password" minlength="6"
                        maxlength="15" required>
                    <div class="invalid-feedback">Enter a valid password!</div>
                </div>
                <button type="submit" class="btn btn-primary" id="register">Submit</button>
            </fieldset>
        </form>
    </div>
    <p class="result-json-output"></p>
    <div class="modal" id="account">
        <div class="modal-dialog" role="document" id="login">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" fdprocessedid="f7oqv">
                <span aria-hidden="true"></span>
              </button>
            </div>
            <div class="modal-body text-center">
                <h2>PAWS <span><i class="fa fa-paw"></i></span> TAILS</h2>
                <br>
                <h4>Welcome to PAWS <span><i class="fa fa-paw"></i></span> TAILS </h4>
                <form id="loginform" name="login" class="needs-validation">
                    <fieldset>
                        <div class="text-danger" id="invalid_credentials" style="display: none;">Invalid username or Password</div>
                        <div class="form-group w-50 m-auto">
                            <label for="username" class="form-label">Email address</label>
                            <input type="email" class="form-control" id="username" placeholder="Enter email" required>
                            <div class="invalid-feedback">Sorry, We need a valid username to get you in.</div>
                          </div>
                          <br>
                          <div class="form-group w-50 m-auto">
                            <label for="password" class="form-label">Password</label>
                            <input type="password" class="form-control" id="password" placeholder="Password" required>
                            <div class="invalid-feedback">Sorry, We need your password to get you in.</div>
                          </div>
                          <br>
                          <button type="button" id="submitLogin" class="btn btn-outline-success">Log In</button>
                    </fieldset>
                </form>
            </div>
            <div class="modal-body text-center">
                <p>
                    New to PAWS <span><i class="fa fa-paw"></i></span> TAILS ?                 
                    <small id="forgotPassword" class="form-text text-muted"><a href="register.html">Create Account</a></small>

                </p>
            </div>
          </div>
        </div>
      </div>

      <div class="modal" id="accountLoggedIn">
        <div class="modal-dialog" role="document" id="login">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" fdprocessedid="f7oqv">
                <span aria-hidden="true"></span>
              </button>
            </div>
            <div class="modal-body text-center">
                <h2>PAWS <span><i class="fa fa-paw"></i></span> TAILS</h2>
                <br>
                <h4>Welcome to PAWS <span><i class="fa fa-paw"></i></span> TAILS </h4>

                <H4 id="nameOfUser"></H4>
                
            </div>
            <div class="modal-body text-center">
                <button type="button"  class="btn btn-outline-danger" id="submitLogout">Log Out</button>
            </div>
          </div>
        </div>
      </div>

      


      <footer class="bg-dark text-center text-white">
        <div class="container p-4">
            <section class="mb-4">
                <a class="btn btn-outline-light btn-floating m-1" href="#!" role="button"><i
                        class="fa fa-facebook-f"></i></a>

                <a class="btn btn-outline-light btn-floating m-1" href="#!" role="button"><i
                        class="fa fa-twitter"></i></a>

                <a class="btn btn-outline-light btn-floating m-1" href="#!" role="button"><i
                        class="fa fa-instagram"></i></a>
            </section>

            <section class="">
                <div class="row">
                    <div class="col-lg-4 col-md-6 mb-4 mb-md-0">
                        <h5 class="text-uppercase">Explore</h5>

                        <ul class="list-unstyled mb-0">
                            <li>
                                <a href="#!" class="text-white">My Account</a>
                            </li>
                            <li>
                                <a href="about.html" class="text-white">About Us</a>
                            </li>
                            <li>
                                <a href="contact.html" class="text-white">Contact Us</a>
                            </li>
                            <li>
                                <a href="faq.html" class="text-white">FAQs</a>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="col-lg-4 col-md-6 mb-4 mb-md-0">
                        <h5 class="text-uppercase">Our Products</h5>

                        <ul class="list-unstyled mb-0">
                            <li>
                                <a href="dogFood.html" class="text-white">Pet Food</a>
                            </li>
                            <li>
                                <a href="walk.html" class="text-white">Walking Essentials</a>
                            </li>
                            <li>
                                <a href="litter.html" class="text-white">Litter Supplies</a>
                            </li>
                            <li>
                                <a href="toys.html" class="text-white">Pet Toys</a>
                            </li>
                        </ul>
                    </div>
                  
                    <div class="col-lg-4 col-md-6 mb-4 mb-md-0">
                        <h5 class="text-uppercase">Our Services</h5>

                        <ul class="list-unstyled mb-0">
                            <li>
                                <a href="#!" class="text-white">Pet Supplies</a>
                            </li>
                            <li>
                                <a href="care.html" class="text-white">Pet Care</a>
                            </li>
                            <li>
                                <a href="care.html" class="text-white">Pet Grooming</a>
                            </li>
                            <li>
                                <a href="care.html" class="text-white">Tele Consultation</a>
                            </li>
                            <li>
                                <a href="care.html" class="text-white">Pet Training</a>
                            </li>
                            <li>
                                <a href="care.html" class="text-white">Pet Wellness</a>
                            </li>
                        </ul>
                    </div>
                
              </div>
            </section>
        </div>

        <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
            © 2023 Copyright:
            <a class="navbar-brand" href="home.html">PAWS <span><i class="fa fa-paw"></i></span> TAILS</a>
        </div>
    </footer>
</body>

</html>